<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="description" content="Homes Template">
    <meta name="keywords" content="Homes, unica, creative, html">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Cloud Places - My Properties</title>

    <!-- Google Font -->
    <link href="https://fonts.googleapis.com/css?family=Roboto:100,100i,300,300i,400,400i,500,500i,700,700i,900,900i"
        rel="stylesheet">

    <!-- Css Styles -->
    <link rel="stylesheet" href="css/bootstrap.min.css" type="text/css">
    <link rel="stylesheet" href="css/font-awesome.min.css" type="text/css">
    <link rel="stylesheet" href="css/nice-select.css" type="text/css">
    <link rel="stylesheet" href="css/owl.carousel.min.css" type="text/css">
    <link rel="stylesheet" href="css/flaticon.css" type="text/css">
    <link rel="stylesheet" href="css/slicknav.min.css" type="text/css">
    <link rel="stylesheet" href="css/jquery-ui.min.css" type="text/css">
    <link rel="stylesheet" href="css/style.css" type="text/css">
    <script src="js/jquery-3.3.1.min.js"></script>
    <script type="text/javascript">
        var photosBase64 = new Array();

        $.get('html/header.html', function(data) {
            var h = document.getElementsByClassName("header-section");
            h[0].innerHTML = data;
        }, 'text');

        function readURL(input) {
            if (input.files && input.files[0]) {
                var reader = new FileReader();

                reader.onload = function (e) {
                    photosBase64.push({photo: e.target.result});
                };

                reader.readAsDataURL(input.files[0]);
            }
        }

        function addProperty() {
            var userEmail = document.getElementById("userEmail").innerHTML;

            $.get("/api/get_user/" + userEmail, function(data, status) {
                var property = JSON.stringify({ user: data, name: document.forms["newProperty"]["name"].value, address: document.forms["newProperty"]["address"].value, price: document.forms["newProperty"]["price"].value, n_rooms: document.forms["newProperty"]["n_rooms"].value, hab_space: document.forms["newProperty"]["hab_space"].value, n_bathrooms: document.forms["newProperty"]["n_bathrooms"].value, garage: document.forms["newProperty"]["garage"].value, description: document.forms["newProperty"]["description"].value, property_features: document.forms["newProperty"]["property_features"].value, availability: document.forms["newProperty"]["availability"].value, photos: photosBase64 });

                $.ajax({
                    url: '/addProperty',
                    type: 'POST',
                    data: property,
                    processData: false,
                    contentType: 'application/json'
                })

                photosBase64 = new Array();
                document.getElementById("newProperty").reset();
            })
        }
    </script>
</head>

<body>
    <!-- Page Preloder -->
    <div id="preloder">
        <div class="loader"></div>
    </div>
    <!-- Header Section Begin -->
    <header class="header-section">
    </header>
    <!-- Header Section End -->
    <!-- Hero Section Begin -->
    <section class="hero-section set-bg search-result" data-setbg="img/bg.jpg">
        <div class="container hero-text text-white">
            <h2></h2>
        </div>
    </section>
    <!-- Hero Section End -->
    <!-- Hotel Room Section Begin -->
    <section class="hotel-rooms spad">
        <div class="container">
            <div class="row">
                <div class="col-lg-12 col-md-12 col-md-12">
                    <h5 id="userEmail" th:text="${userEmail}"></h5>
                    <form id="newProperty" name="newProperty">
                        <div class="form-row">
                            <div class="col-md-12 mb-3">
                                <label for="name">Property Name</label>
                                <input type="text" class="form-control" id="name" placeholder="Property Name" required>
                            </div>
                            <div class="col-md-12 mb-3">
                                <label for="address">Property Address</label>
                                <input type="text" class="form-control" id="address" placeholder="Property Address" required>
                            </div>
                            <div class="col-md-12 mb-3">
                                <label for="price">Price</label>
                                <input type="number" min=0 class="form-control" id="price" placeholder="Price" required>
                            </div>
                            <div class="col-md-12 mb-3">
                                <label for="n_rooms">Number of Rooms</label>
                                <input type="number" min=0 class="form-control" id="n_rooms" placeholder="Number of Rooms" required>
                            </div>
                            <div class="col-md-12 mb-3">
                                <label for="hab_space">Habitation Space</label>
                                <input type="number" min=0 class="form-control" id="hab_space" placeholder="Habitation Space" required>
                            </div>
                            <div class="col-md-12 mb-3">
                                <label for="n_bathrooms">Number of Bathrooms</label>
                                <input type="number" min=0 class="form-control" id="n_bathrooms" placeholder="Number of Bathrooms" required>
                            </div>
                            <div class="col-md-12 mb-3">
                                <label for="garage">Garage</label>
                                <input type="number" min=0 class="form-control" id="garage" placeholder="Garage" required>
                            </div>
                            <div class="col-md-12 mb-3">
                                <label for="description">Description</label>
                                <input type="text" class="form-control" id="description" placeholder="Description" required>
                            </div>
                            <div class="col-md-12 mb-3">
                                <label for="property_features">Property Features</label>
                                <input type="text" class="form-control" id="property_features" placeholder="Property Features" required>
                            </div>
                            <div class="col-md-12 mb-3">
                                <label for="availability">Availability</label>
                                <input type="number" min=0 max=1 class="form-control" id="availability" placeholder="Availability" required>
                            </div>
                        </div>
                        <div class="form-group">Photos
                            <input type="file" class="form-control-file" id="photo1" onchange="readURL(this)">
                            <input type="file" class="form-control-file" id="photo2" onchange="readURL(this)">
                            <input type="file" class="form-control-file" id="photo3" onchange="readURL(this)">
                        </div>
                        <div class="form-group">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" value="" id="invalidCheck2" required>
                                <label class="form-check-label" for="invalidCheck2">
                                    Agree to terms and conditions
                                </label>
                            </div>
                        </div>
                    </form>
                    <button class="btn btn-primary" onclick="addProperty()">Submit</button>
                </div>
            </div>
        </div>
    </section>
    <!-- Hotel Room Section End -->
    <!-- Footer Section Begin -->
    <footer class="footer-section p-40">
        <div class="container">
            <div class="row">
                <div class="col-lg-12 text-center sp-60">
                    <img src="img/only-logo.png" alt="">
                </div>
            </div>
            <div class="row p-37">
                <div class="col-lg-4">
                    <div class="about-footer">
                        <h5>About Homes</h5>
                        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec eleifend tristique venenatis.
                            Maecenas a rutrum tellus nam vel semper nibh.</p>
                        <div class="footer-social">
                            <a href="#"><i class="fa fa-pinterest"></i></a>
                            <a href="#"><i class="fa fa-facebook"></i></a>
                            <a href="#"><i class="fa fa-twitter"></i></a>
                            <a href="#"><i class="fa fa-dribbble"></i></a>
                            <a href="#"><i class="fa fa-behance"></i></a>
                        </div>
                    </div>
                </div>
                <div class="col-lg-4 col-md-6">
                    <div class="footer-blog">
                        <h5>Latest Blog Posts</h5>

                        <div class="single-blog">
                            <div class="lt-side">
                                <img src="img/footer-blog-1.jpg" alt="">
                            </div>
                            <div class="rt-side">
                                <h6>How to find the perfect area for<br> your next house.</h6>
                                <div class="blog-time">
                                    <i class="flaticon-clock"></i>
                                    <span>5 min</span>
                                </div>
                                <a href="#" class="read-more">
                                    <i class="flaticon-right-arrow-1"></i>
                                    <span>Read More</span>
                                </a>
                            </div>
                        </div>
                        <div class="single-blog">
                            <div class="lt-side">
                                <img src="img/footer-blog-2.jpg" alt="">
                            </div>
                            <div class="rt-side">
                                <h6>How to find the perfect area for<br> your next house.</h6>
                                <div class="blog-time">
                                    <i class="flaticon-clock"></i>
                                    <span>5 min</span>
                                </div>
                                <a href="#" class="read-more">
                                    <i class="flaticon-right-arrow-1"></i>
                                    <span>Read More</span>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-4 col-md-6">
                    <div class="footer-address">
                        <h5>Get In Touch</h5>
                        <ul>
                            <li><i class="flaticon-placeholder"></i><span>132 Liberty Streetelit, Plano, Texas</span>
                            </li>
                            <li><i class="flaticon-envelope"></i><span>hello@home.com</span></li>
                            <li><i class="flaticon-smartphone"></i><span>214-805-4428</span></li>
                        </ul>
                        <p>Monday – Friday: 9 am – 5 pm</p>
                        <p>Saturday: 9 am – 1pm</p>
                    </div>
                </div>
            </div>

            <div class="row p-20">
                <div class="col-lg-12 text-center">
                    <div class="copyright">
                        <!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
Copyright &copy;<script>document.write(new Date().getFullYear());</script> All rights reserved | This template is made with <i class="fa fa-heart-o" aria-hidden="true"></i> by <a href="https://colorlib.com" target="_blank">Colorlib</a>
<!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->

                    </div>
                </div>
            </div>
        </div>
    </footer>
    <!-- Footer Section End -->
    <!-- Js Plugins -->
    <script src="js/bootstrap.min.js"></script>
    <script src="js/jquery.nice-select.min.js"></script>
    <script src="js/owl.carousel.min.js"></script>
    <script src="js/jquery-ui.min.js"></script>
    <script src="js/jquery.slicknav.js"></script>
    <script src="js/main.js"></script>
</body>

</html>